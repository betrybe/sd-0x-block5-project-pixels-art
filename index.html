<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="style.css">
  <script src="script.js"></script>
</head>
<style>
  .container {
    display: table;
  }

  #color-palette {
    display: table-row;
  }

  .row {
    display: table-row;
  }

  .color {
    display: table-cell;
    width: 40px;
    height: 40px;
    border: 1px solid black;
  }

  #c1 {
    background-color: black;
  }

  #c2 {
    background-color: green;
  }

  #c3 {
    background-color: red;
  }

  #c4 {
    background-color: blue;
  }

  .pixel {
    width: 40px;
    height: 40px;
    background-color: white;
    border: 1px solid black;
    display: table-cell;
  }
</style>

<body>
  <h1 id="title">
    Paleta de Cores
  </h1>
  <div id="color-palette">
    <div id="c1" class="color selected"></div>
    <div id="c2" class="color"></div>
    <div id="c3" class="color"></div>
    <div id="c4" class="color"></div>
  </div>
  <input type="number" id="board-size" min="1">
  <button id="generate-board">#vqv</button>

  <button id="clear-board">Limpar</button>
  <div id="pixel-board">
    <div class="row">
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
    </div>
    <div class="row">
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
    </div>
    <div class="row">
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
    </div>
    <div class="row">
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
    </div>
    <div class="row">
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
      <div class="pixel"></div>
    </div>
  </div>

</body>
<script>
  document.addEventListener('click', function (event) {
    if (event.target.classList.contains('color')) {
      document.querySelectorAll('.color').forEach((elem) => {
        elem.classList.remove("selected")
      })
      event.target.classList.add("selected")
    }

    if (event.target.classList.contains("pixel")) {
      const color = window.getComputedStyle(document.querySelector(".selected")).backgroundColor;
      event.target.style.backgroundColor = color;
    }
  }, false);

  document.getElementById("clear-board").addEventListener("click", () => {
    document.querySelectorAll(".pixel").forEach((pixel) => {
      pixel.style.backgroundColor = "white";
    })
  })

  document.getElementById("generate-board").addEventListener("click", () => {
    let boardSize = document.getElementById("board-size").value;
    if (!boardSize) {
      alert("Board inv√°lido!");
    } else {
      boardSize = boardSize < 5 ? 5 : boardSize;
      boardSize = boardSize > 50 ? 50 : boardSize;
      const board = document.getElementById("pixel-board");
      let = rowAcc = "";
      for (i = 0; i < boardSize; i++) {
        rowAcc += "<div class='row'>"
        for (j = 0; j < boardSize; j++) {
          rowAcc += "<div class='pixel'></div>"
        }
        rowAcc += "</div>"
      }

      board.innerHTML = rowAcc;
    }
  })

  // document.on('load', () => {
  document.querySelectorAll(".color").forEach((color) => {
    color.style.backgroundColor = `rgb(${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)})`;
  })

  document.querySelector(".color").style.backgroundColor = "black";
  // })



</script>

</html>
